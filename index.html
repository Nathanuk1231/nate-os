<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Modern Phone OS Launcher</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');

  :root {
    --bg-color: #121212;
    --text-color: #eee;
    --accent-color: #4a90e2;
    --app-bg: #222;
    --app-bg-light: #fff;
    --app-text-light: #111;
  }
  [data-theme="light"] {
    --bg-color: #f5f5f5;
    --text-color: #111;
    --app-bg: #fff;
    --accent-color: #007aff;
    --app-text-light: #111;
  }

  * {
    box-sizing: border-box;
  }

  body, html {
    margin: 0; padding: 0;
    font-family: 'Inter', sans-serif;
    background: var(--bg-color);
    color: var(--text-color);
    height: 100vh;
    display: flex;
    flex-direction: column;
    user-select: none;
    overflow: hidden;
  }

  /* Status Bar */
  .status-bar {
    height: 28px;
    background: var(--app-bg);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 14px;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-color);
  }

  .status-bar .left,
  .status-bar .right {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  /* Launcher Home Screen */
  .home-screen {
    flex: 1;
    background: var(--bg-color);
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 18px;
    padding: 20px 16px;
  }

  .app-icon {
    background: var(--app-bg);
    border-radius: 20px;
    padding: 20px 0 12px 0;
    text-align: center;
    color: var(--text-color);
    box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    cursor: pointer;
    transition: background 0.3s ease, transform 0.15s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .app-icon:hover {
    background: var(--accent-color);
    transform: scale(1.12);
  }
  .app-icon img {
    width: 48px;
    height: 48px;
    margin-bottom: 10px;
    filter: var(--icon-filter, brightness(0) invert(1));
  }
  .app-icon span {
    font-weight: 600;
    font-size: 14px;
  }

  /* Dock */
  .dock {
    height: 72px;
    background: var(--app-bg);
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 48px;
    padding-bottom: 12px;
  }
  .dock .app-icon {
    padding: 16px 0 8px 0;
    width: 60px;
    border-radius: 18px;
  }

  /* App Container */
  .app-container {
    position: fixed;
    top: 28px;
    left: 0; right: 0; bottom: 0;
    background: var(--bg-color);
    color: var(--text-color);
    display: none;
    flex-direction: column;
    z-index: 10;
  }

  .app-header {
    height: 50px;
    background: var(--app-bg);
    display: flex;
    align-items: center;
    padding: 0 14px;
    font-weight: 700;
    font-size: 18px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.6);
  }
  .app-header button {
    background: none;
    border: none;
    color: var(--accent-color);
    font-weight: 700;
    font-size: 18px;
    cursor: pointer;
    margin-right: 12px;
  }
  .app-content {
    flex: 1;
    overflow-y: auto;
    padding: 14px;
  }

  /* Phone Dialer */
  #phone-dialer .number-display {
    font-size: 28px;
    background: var(--app-bg);
    border-radius: 12px;
    padding: 12px 18px;
    margin-bottom: 20px;
    letter-spacing: 2px;
    user-select: text;
  }
  #phone-dialer .dial-pad {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
  }
  #phone-dialer .dial-pad button {
    background: var(--app-bg);
    border-radius: 50%;
    font-size: 24px;
    color: var(--text-color);
    border: none;
    height: 64px;
    cursor: pointer;
    box-shadow: 0 3px 8px rgba(0,0,0,0.5);
    transition: background 0.2s ease;
  }
  #phone-dialer .dial-pad button:hover {
    background: var(--accent-color);
  }
  #phone-dialer .call-button {
    background: #0a0;
    color: #afa;
    font-weight: 700;
    font-size: 20px;
    margin-top: 24px;
    border-radius: 40px;
    padding: 12px 0;
  }
  #phone-dialer .call-button:disabled {
    background: #333;
    color: #555;
    cursor: default;
  }

  /* Messages App */
  #messages-app .message-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
    max-height: 300px;
    overflow-y: auto;
    margin-bottom: 16px;
  }
  #messages-app .message {
    padding: 12px 14px;
    border-radius: 18px;
    max-width: 70%;
    font-size: 16px;
    line-height: 1.3;
  }
  #messages-app .message.sent {
    background: var(--accent-color);
    color: white;
    align-self: flex-end;
    border-bottom-right-radius: 4px;
  }
  #messages-app .message.received {
    background: var(--app-bg);
    border: 1px solid #444;
    color: var(--text-color);
    align-self: flex-start;
    border-bottom-left-radius: 4px;
  }
  #messages-app .input-row {
    display: flex;
    gap: 8px;
  }
  #messages-app input[type="text"] {
    flex: 1;
    padding: 10px 14px;
    border-radius: 20px;
    border: 1px solid #555;
    font-size: 16px;
    background: var(--app-bg);
    color: var(--text-color);
  }
  #messages-app button.send-btn {
    background: var(--accent-color);
    border: none;
    color: white;
    padding: 0 18px;
    font-weight: 700;
    font-size: 16px;
    border-radius: 20px;
    cursor: pointer;
  }
  #messages-app button.send-btn:disabled {
    background: #555;
    cursor: default;
  }

  /* Calculator */
  #calculator-app {
    display: flex;
    flex-direction: column;
  }
  #calculator-app .calc-display {
    background: var(--app-bg);
    font-size: 32px;
    padding: 20px 18px;
    border-radius: 14px;
    margin-bottom: 20px;
    text-align: right;
    user-select: text;
  }
  #calculator-app .calc-buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
  }
  #calculator-app button {
    background: var(--app-bg);
    border-radius: 12px;
    font-size: 22px;
    border: none;
    padding: 16px 0;
    color: var(--text-color);
    cursor: pointer;
    box-shadow: 0 3px 6px rgba(0,0,0,0.5);
    transition: background 0.2s ease;
  }
  #calculator-app button:hover {
    background: var(--accent-color);
    color: white;
  }
  #calculator-app button.operator {
    background: #ff9500;
    color: white;
  }
  #calculator-app button.operator:hover {
    background: #ffa733;
  }

  /* Clock App */
  #clock-app {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 48px;
    font-weight: 700;
    padding-top: 40px;
  }
  #clock-app .date {
    font-size: 18px;
    margin-top: 12px;
  }

  /* Settings App */
  #settings-app {
    display: flex;
    flex-direction: column;
    gap: 18px;
    font-size: 18px;
  }
  #settings-app label {
    cursor: pointer;
    user-select: none;
  }
  #settings-app input[type="checkbox"] {
    margin-right: 8px;
    cursor: pointer;
  }

</style>
</head>
<body data-theme="dark">

<div class="status-bar">
  <div class="left">üîã 82%</div>
  <div class="right">üì∂ LTE 12:34</div>
</div>

<div class="home-screen" id="home-screen">
  <div class="app-icon" data-app="phone">
    <img src="https://cdn-icons-png.flaticon.com/512/597/597177.png" alt="Phone" />
    <span>Phone</span>
  </div>
  <div class="app-icon" data-app="messages">
    <img src="https://cdn-icons-png.flaticon.com/512/2462/2462719.png" alt="Messages" />
    <span>Messages</span>
  </div>
  <div class="app-icon" data-app="calculator">
    <img src="https://cdn-icons-png.flaticon.com/512/992/992651.png" alt="Calculator" />
    <span>Calculator</span>
  </div>
  <div class="app-icon" data-app="clock">
    <img src="https://cdn-icons-png.flaticon.com/512/565/565547.png" alt="Clock" />
    <span>Clock</span>
  </div>
  <div class="app-icon" data-app="settings">
    <img src="https://cdn-icons-png.flaticon.com/512/2099/2099058.png" alt="Settings" />
    <span>Settings</span>
  </div>
</div>

<div class="dock">
  <div class="app-icon" data-app="phone">
    <img src="https://cdn-icons-png.flaticon.com/512/597/597177.png" alt="Phone" />
  </div>
  <div class="app-icon" data-app="messages">
    <img src="https://cdn-icons-png.flaticon.com/512/2462/2462719.png" alt="Messages" />
  </div>
  <div class="app-icon" data-app="settings">
    <img src="https://cdn-icons-png.flaticon.com/512/2099/2099058.png" alt="Settings" />
  </div>
</div>

<!-- Apps Containers -->

<!-- Phone Dialer -->
<div class="app-container" id="phone-dialer">
  <div class="app-header">
    <button class="back-btn">‚Üê</button>
    Phone
  </div>
  <div class="app-content">
    <div class="number-display" id="phone-number-display"></div>
    <div class="dial-pad">
      <button data-key="1">1</button>
      <button data-key="2">2</button>
      <button data-key="3">3</button>
      <button data-key="4">4</button>
      <button data-key="5">5</button>
      <button data-key="6">6</button>
      <button data-key="7">7</button>
      <button data-key="8">8</button>
      <button data-key="9">9</button>
      <button data-key="*">*</button>
      <button data-key="0">0</button>
      <button data-key="#">#</button>
    </div>
    <button class="call-button" id="call-button" disabled>Call</button>
  </div>
</div>

<!-- Messages -->
<div class="app-container" id="messages-app">
  <div class="app-header">
    <button class="back-btn">‚Üê</button>
    Messages
  </div>
  <div class="app-content">
    <div class="message-list" id="message-list"></div>
    <div class="input-row">
      <input type="text" id="message-input" placeholder="Type a message..." />
      <button class="send-btn" id="send-message-btn" disabled>Send</button>
    </div>
  </div>
</div>

<!-- Calculator -->
<div class="app-container" id="calculator-app">
  <div class="app-header">
    <button class="back-btn">‚Üê</button>
    Calculator
  </div>
  <div class="app-content">
    <div class="calc-display" id="calc-display">0</div>
    <div class="calc-buttons">
      <button data-calc="7">7</button>
      <button data-calc="8">8</button>
      <button data-calc="9">9</button>
      <button data-calc="/" class="operator">√∑</button>

      <button data-calc="4">4</button>
      <button data-calc="5">5</button>
      <button data-calc="6">6</button>
      <button data-calc="*" class="operator">√ó</button>

      <button data-calc="1">1</button>
      <button data-calc="2">2</button>
      <button data-calc="3">3</button>
      <button data-calc="-" class="operator">‚àí</button>

      <button data-calc="0">0</button>
      <button data-calc=".">.</button>
      <button data-calc="C" class="operator">C</button>
      <button data-calc="+" class="operator">+</button>

      <button data-calc="=" class="operator" style="grid-column: span 4; font-size: 24px;">=</button>
    </div>
  </div>
</div>

<!-- Clock -->
<div class="app-container" id="clock-app">
  <div class="app-header">
    <button class="back-btn">‚Üê</button>
    Clock
  </div>
  <div class="app-content" style="display:flex; flex-direction:column; align-items:center;">
    <div id="clock-time"></div>
    <div class="date" id="clock-date"></div>
  </div>
</div>

<!-- Settings -->
<div class="app-container" id="settings-app">
  <div class="app-header">
    <button class="back-btn">‚Üê</button>
    Settings
  </div>
  <div class="app-content">
    <label>
      <input type="checkbox" id="toggle-theme" />
      Dark Mode
    </label>
  </div>
</div>

<script>
  (() => {
    const body = document.body;
    const homeScreen = document.getElementById('home-screen');
    const apps = {
      phone: document.getElementById('phone-dialer'),
      messages: document.getElementById('messages-app'),
      calculator: document.getElementById('calculator-app'),
      clock: document.getElementById('clock-app'),
      settings: document.getElementById('settings-app'),
    };

    // Open app
    function openApp(name) {
      homeScreen.style.display = 'none';
      Object.values(apps).forEach(app => app.style.display = 'none');
      apps[name].style.display = 'flex';
    }
    // Close app (back to home)
    function closeApp() {
      Object.values(apps).forEach(app => app.style.display = 'none');
      homeScreen.style.display = 'grid';
    }

    // Launcher click handlers
    document.querySelectorAll('.app-icon').forEach(icon => {
      icon.addEventListener('click', () => {
        const appName = icon.getAttribute('data-app');
        openApp(appName);
      });
    });

    // Back buttons
    document.querySelectorAll('.back-btn').forEach(btn => {
      btn.addEventListener('click', () => closeApp());
    });

    // --- Phone Dialer logic ---
    const phoneNumberDisplay = document.getElementById('phone-number-display');
    const callButton = document.getElementById('call-button');
    let phoneNumber = '';

    apps.phone.querySelectorAll('.dial-pad button').forEach(btn => {
      btn.addEventListener('click', () => {
        const key = btn.getAttribute('data-key');
        if (phoneNumber.length < 15) {
          phoneNumber += key;
          phoneNumberDisplay.textContent = phoneNumber;
          callButton.disabled = phoneNumber.length === 0;
        }
      });
    });

    // Backspace on long press or clicking call button resets input
    phoneNumberDisplay.addEventListener('click', () => {
      phoneNumber = phoneNumber.slice(0, -1);
      phoneNumberDisplay.textContent = phoneNumber;
      callButton.disabled = phoneNumber.length === 0;
    });

    callButton.addEventListener('click', () => {
      alert(`Calling ${phoneNumber}... (simulated)`);
      phoneNumber = '';
      phoneNumberDisplay.textContent = '';
      callButton.disabled = true;
    });

    // --- Messages App logic ---
    const messageList = document.getElementById('message-list');
    const messageInput = document.getElementById('message-input');
    const sendBtn = document.getElementById('send-message-btn');
    const messages = [];

    function renderMessages() {
      messageList.innerHTML = '';
      messages.forEach(msg => {
        const div = document.createElement('div');
        div.classList.add('message', msg.sent ? 'sent' : 'received');
        div.textContent = msg.text;
        messageList.appendChild(div);
      });
      messageList.scrollTop = messageList.scrollHeight;
    }

    messageInput.addEventListener('input', () => {
      sendBtn.disabled = messageInput.value.trim().length === 0;
    });

    sendBtn.addEventListener('click', () => {
      const text = messageInput.value.trim();
      if (!text) return;
      messages.push({ text, sent: true });
      renderMessages();
      messageInput.value = '';
      sendBtn.disabled = true;

      // Simulate reply
      setTimeout(() => {
        messages.push({ text: 'Got your message: "' + text + '"', sent: false });
        renderMessages();
      }, 1500);
    });

    // --- Calculator logic ---
    const calcDisplay = document.getElementById('calc-display');
    let calcExpression = '';

    function updateCalcDisplay() {
      calcDisplay.textContent = calcExpression || '0';
    }

    function calculateExpression(expr) {
      try {
        // Prevent unsafe eval by only allowing digits and basic operators
        if (!/^[0-9+\-*/. ()]+$/.test(expr)) throw new Error('Invalid characters');
        return Function(`"use strict";return (${expr})`)();
      } catch {
        return 'Error';
      }
    }

    apps.calculator.querySelectorAll('button').forEach(btn => {
      btn.addEventListener('click', () => {
        const val = btn.getAttribute('data-calc');
        if (val === 'C') {
          calcExpression = '';
        } else if (val === '=') {
          const result = calculateExpression(calcExpression);
          calcExpression = result === 'Error' ? '' : result.toString();
        } else {
          calcExpression += val;
        }
        updateCalcDisplay();
      });
    });

    updateCalcDisplay();

    // --- Clock App logic ---
    const clockTime = document.getElementById('clock-time');
    const clockDate = document.getElementById('clock-date');

    function updateClock() {
      const now = new Date();
      const h = now.getHours().toString().padStart(2, '0');
      const m = now.getMinutes().toString().padStart(2, '0');
      const s = now.getSeconds().toString().padStart(2, '0');
      clockTime.textContent = `${h}:${m}:${s}`;
      clockDate.textContent = now.toDateString();
    }
    setInterval(updateClock, 1000);
    updateClock();

    // --- Settings logic ---
    const toggleTheme = document.getElementById('toggle-theme');
    toggleTheme.checked = body.getAttribute('data-theme') === 'dark';

    toggleTheme.addEventListener('change', () => {
      if (toggleTheme.checked) {
        body.setAttribute('data-theme', 'dark');
      } else {
        body.setAttribute('data-theme', 'light');
      }
    });
  })();
</script>

</body>
</html>
